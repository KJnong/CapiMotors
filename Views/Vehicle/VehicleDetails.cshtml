@model CapiMotors.Services.ViewModels.VehicleInfoViewModel

@{
    ViewData["Title"] = "Details";
}

<div class="container">

    <div class="row">
        <div class="col-md-8">
            <h1 class="my-4">
                @Model.Vehicle.Make
                <small>@Model.Vehicle.Model</small>
            </h1>

        </div>
        <div class="col-md-4">
            <button class="btn btn-primary my-4" data-target="#contactModal" data-toggle="modal">Find out more</button>
        </div>
    </div>

    <div class="row">

        <div class="col-md-8">
            <img class="img-fluid" src="~/images/@Model.Vehicle.MainImageName" alt="">
        </div>

        <div class="col-md-4">
            <h3 class="my-3">Vehicle Description</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra euismod odio, gravida pellentesque urna varius vitae. Sed dui lorem, adipiscing in adipiscing et, interdum nec metus. Mauris ultricies, justo eu convallis placerat, felis enim.</p>
            <h3 class="my-3">Details</h3>
            <ul>
                <li>@string.Format("{0:c}", Model.Vehicle.Price)</li>
                <li>Color-@Model.Vehicle.Colour</li>
                @if (Model.Vehicle.SunRoof)
                {
                    <li>SunRoof</li>
                }
                @if (Model.Vehicle.TowBar)
                {
                    <li>Towbar</li>
                }
                @if (Model.Vehicle.PreviouslyOwned)
                {
                    <li>Previously Owned</li>
                }
                else
                {
                    <li>New</li>
                }
            </ul>
        </div>

    </div>
    <!-- /.row -->
    <!-- Related Projects Row -->
    <h3 class="my-4">More Images</h3>

    <div class="row">

        @foreach (var img in Model.ImagesNames)
        {

            <div class="col-md-3 col-sm-6 mb-4">
                <a href="#">
                    <img class="img-fluid" src="~/images/@img" alt="">
                </a>
            </div>

        }

    </div>
    <!-- /.row -->

</div>
<!-- /.container -->
<div class="info-container">
    <div class=" image-slider">

        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="modal" id="contactModal" tabindex="-1">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button class="close" data-dismiss="modal">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <form asp-controller="Notification" asp-action="AddNotification" method="post">
                                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                                        <div class="form-group">
                                            <label asp-for="Name" class="control-label"></label>
                                            <input asp-for="Name" class="form-control" />
                                            <span asp-validation-for="Name" class="text-danger"></span>
                                        </div>
                                        <div class="form-group">
                                            <label asp-for="Email" class="control-label"></label>
                                            <input asp-for="Email" class="form-control" />
                                            <span asp-validation-for="Email" class="text-danger"></span>
                                        </div>
                                        <div class="form-group">
                                            <label asp-for="Phone" class="control-label"></label>
                                            <input asp-for="Phone" class="form-control" />
                                            <span asp-validation-for="Phone" class="text-danger"></span>
                                        </div>
                                        <div class="form-group" style="display:none">
                                            <input asp-for="VehicleId" value="@Model.Vehicle.Id" class="form-control" />
                                            <input asp-for="SellerId" value="@Model.Vehicle.SellerId" class="form-control" />
                                        </div>

                                        <div class="modal-footer">
                                            <button class="btn btn-primary">Contact the Dealer</button>
                                            <button class="btn btn-primary" data-dismiss="modal">Close</button>
                                        </div>
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br />
    @*
            <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    @foreach (string img in Model.ImagesNames)
                    {
                        if (Model.ImagesNames.IndexOf(img) == 0)
                        {
                            <div class="carousel-item active">
                                <img class="d-block w-100" src="~/images/@img" alt="First slide">
                            </div>
                        }
                        else
                        {
                            <div class="carousel-item">
                                <img class="d-block w-100" src="~/images/@img" alt="F">
                            </div>
                        }

                    }
                </div>
                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            <div id="table">
                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                Make
                            </th>
                            <th>
                                Model
                            </th>
                            <th>
                                Colour
                            </th>
                            <th>
                                Price
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                @Model.Vehicle.Make
                            </td>
                            <td>
                                @Model.Vehicle.Model
                            </td>
                            <td>
                                @Model.Vehicle.Colour
                            </td>
                            <td>
                                @Model.Vehicle.Price
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <button class="btn btn-primary" data-target="#contactModal" data-toggle="modal">Find out more</button>

        </div>*@


    @section Scripts {
        @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    }
